<!DOCTYPE html>
<html lang="en" class="astro-D4ZPMAD2">
  <head>
    <!-- Global Metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="sitemap" href="/sitemap-index.xml">
    <meta name="generator" content="Astro v2.10.12">

    <!-- Primary Meta Tags -->
    <title>2022 ç¬¬20é€± å¯¦ä½œç­†è¨˜ï¼šåœ¨ React APP ä¸­å¯¦ä½œæ»¾å‹•è¦–å·®</title>
    <meta name="title" content="2022 ç¬¬20é€± å¯¦ä½œç­†è¨˜ï¼šåœ¨ React APP ä¸­å¯¦ä½œæ»¾å‹•è¦–å·®">
    <meta name="description" content="">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://tzynwang.github.io/post/2022/react-parallax-scroll/">
    <meta property="og:title" content="2022 ç¬¬20é€± å¯¦ä½œç­†è¨˜ï¼šåœ¨ React APP ä¸­å¯¦ä½œæ»¾å‹•è¦–å·®">
    <meta property="og:description" content="">
    <meta property="og:image" content="https://tzynwang.github.io/alexander-andrews-mEdKuPYJe1I.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://tzynwang.github.io/post/2022/react-parallax-scroll/">
    <meta property="twitter:title" content="2022 ç¬¬20é€± å¯¦ä½œç­†è¨˜ï¼šåœ¨ React APP ä¸­å¯¦ä½œæ»¾å‹•è¦–å·®">
    <meta property="twitter:description" content="">
    <meta property="twitter:image" content="https://tzynwang.github.io/alexander-andrews-mEdKuPYJe1I.jpg">

    <!-- Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/_astro/index.5f60e57f.css" />
<link rel="stylesheet" href="/_astro/2-1-movie-list-i18n-note.5f900e92.css" /></head>
  <body class="astro-D4ZPMAD2">
    <section class="side-contnet astro-D4ZPMAD2">
      <h1 class="astro-D4ZPMAD2">æ™®é€šæ–‡çµ„ 2.0</h1>
      <nav class="astro-D4ZPMAD2">
        <a href="/" class="astro-D4ZPMAD2">é¦–é </a>
        <a href="/archive" class="astro-D4ZPMAD2">å…¨æ–‡ç« æ­¸æª”</a>
      </nav>
    </section>
    <section class="main-content astro-D4ZPMAD2">
      
  <div class="post-container astro-QTOKGA5Y">
    <h1 class="astro-QTOKGA5Y">2022 ç¬¬20é€± å¯¦ä½œç­†è¨˜ï¼šåœ¨ React APP ä¸­å¯¦ä½œæ»¾å‹•è¦–å·®</h1>
    <div class="info astro-QTOKGA5Y">
      <span class="astro-QTOKGA5Y">2022-05-21 15:03</span>
      <span class="astro-QTOKGA5Y"><span class="astro-2IYMVI75">
  CSS
</span><span class="astro-2IYMVI75">
  React
</span></span>
      <ul class="astro-QTOKGA5Y">
        <li class="toc-2 astro-QTOKGA5Y">
              <a href="#ç¸½çµ" class="astro-QTOKGA5Y">ç¸½çµ</a>
            </li><li class="toc-2 astro-QTOKGA5Y">
              <a href="#ç­†è¨˜" class="astro-QTOKGA5Y">ç­†è¨˜</a>
            </li><li class="toc-3 astro-QTOKGA5Y">
              <a href="#é—œæ–¼-asana-é¦–é çš„æ»¾å‹•è¦–å·®" class="astro-QTOKGA5Y">é—œæ–¼ Asana é¦–é çš„æ»¾å‹•è¦–å·®</a>
            </li><li class="toc-3 astro-QTOKGA5Y">
              <a href="#å¯¦ä½œ" class="astro-QTOKGA5Y">å¯¦ä½œ</a>
            </li><li class="toc-2 astro-QTOKGA5Y">
              <a href="#åƒè€ƒæ–‡ä»¶" class="astro-QTOKGA5Y">åƒè€ƒæ–‡ä»¶</a>
            </li>
      </ul>
    </div>
    <h2 id="ç¸½çµ">ç¸½çµ</h2>
<p>ä½¿ç”¨ <code>position: sticky;</code> è£½ä½œå‡ºæ»¾å‹•è¦–å·®ï¼ˆparallax effectï¼‰æ•ˆæœ</p>
<p><img src="/2022/react-parallax-scroll/react-parallax-scroll-demo.gif" alt="parallax scroll demo"></p>
<p>å±•ç¤ºï¼š<a href="https://tzynwang.github.io/react-parallax-effect/">https://tzynwang.github.io/react-parallax-effect/</a>
åŸå§‹ç¢¼ï¼š<a href="https://github.com/tzynwang/react-parallax-effect/tree/feature/sticky">https://github.com/tzynwang/react-parallax-effect/tree/feature/sticky</a>
åƒè€ƒä¾†æºï¼š<a href="https://asana.com/?noredirect">Asana</a> é¦–é çš„å‹•ç•«æ•ˆæœ</p>
<h2 id="ç­†è¨˜">ç­†è¨˜</h2>
<h3 id="é—œæ–¼-asana-é¦–é çš„æ»¾å‹•è¦–å·®">é—œæ–¼ Asana é¦–é çš„æ»¾å‹•è¦–å·®</h3>
<ul>
<li>å·¦å´åœ–ç‰‡çš„å‹•ç•«æ•ˆæœæ˜¯é€é <code>transform</code> è£½ä½œå‡ºä¾†çš„ï¼Œä¸¦é SVG æª”æ¡ˆï¼›åœ¨æ²å‹•åˆ°ä¸€å®šä½ç½®æ™‚è§¸ç™¼ <code>transform</code> ä¾†æ”¹è®Š HTMLElement çš„ä½ç½®ï¼ˆ<code>transform: translate(...);</code>ï¼‰èˆ‡è®Šå½¢ï¼ˆ<code>transform: scale(...);</code>ï¼‰ç¨‹åº¦ï¼Œä»¥åŠ <code>border-radius</code> æ•¸å€¼</li>
<li>æ•¸å€¼æ¨æ¸¬ï¼š
<ul>
<li>ç›®æ¸¬ç¬¬ä¸€å€å¡Šå³å´æ–‡å­—çš„ <code>getBoundingClientRect().top</code> åŠ ä¸Š <code>getBoundingClientRect().bottom</code> é™¤ä»¥äºŒï¼ˆå³ä¸­ç·šï¼‰è¶…é <code>window.innerHeight</code> ä¸€åŠå¾Œé–‹å§‹ <code>position: sticky;</code> æ•ˆæœ</li>
<li>åœ¨ç¬¬äºŒå€å¡Šçš„ <code>getBoundingClientRect().top</code> è¶…é <code>window.innerHeight</code> ä¸€åŠä¹‹å¾Œå°±é–‹å§‹é€²è¡Œåœ–ç‰‡è®Šå½¢</li>
<li>ç¬¬ä¸‰å€å¡Šçš„ã€Œé–‹å§‹ã€åˆ¤å®šçœ‹ä¾†åŒç¬¬äºŒå€å¡Šï¼Œè€Œã€Œå‹•ç•«çµæŸã€åˆ¤å®šçœ‹èµ·ä¾†æ˜¯ã€Œå€å¡Šçš„ <code>getBoundingClientRect().bottom</code> å°æ–¼ <code>window.innerHeight * 0.05</code> å¾Œï¼Œå°‡åœ–ç‰‡çš„ <code>position: sticky;</code> æ”¹ç‚º <code>position: absolute;</code>ã€</li>
</ul>
</li>
</ul>
<h3 id="å¯¦ä½œ">å¯¦ä½œ</h3>
<ul>
<li>æº–å‚™å…©å¥—åœ–æ–‡å…ƒä»¶ï¼š<code>StaticSection</code> èˆ‡ <code>ScrollAnimationSection</code>ï¼Œ<code>StaticSection</code> è™•ç†ç‰ˆé¢å°æ–¼ 900px ä¸å±•ç¤ºæ²å‹•æ•ˆæœçš„æƒ…å¢ƒï¼Œå‹•ç•«ç›¸é—œçš„è™•ç†éƒ½æ”¾åˆ° <code>ScrollAnimationSection</code> èˆ‡å…¶å­å…ƒä»¶ä¸­</li>
<li><code>TextBlock</code> ä¸€å€‹è¨­å®šç‚º <code>100vh</code> é«˜ï¼Œç¸½è¨ˆä¸‰å€‹ï¼Œè€Œ <code>ImageContainer</code> å‰‡é…åˆä¸‰å€‹ <code>TextBlock</code> å †ç–Šèµ·ä¾†çš„ç¸½é«˜åº¦è¨­å®šç‚º <code>300vh</code></li>
<li>å…ƒä»¶ <code>Body</code> ä¸­ï¼Œç¬¬ 84-95 è¡Œæ—¨åœ¨è¨ˆç®—æ¯ä¸€å€‹ <code>TextBlock</code> çš„é ‚éƒ¨ä½ç½®ï¼Œé…åˆ <code>useWindowScrollTop()</code> å›å‚³çš„æ²å‹•æ•¸å€¼å¯ä»¥åˆ¤å®šç›®å‰ç•«é¢æ²å‹•åˆ°å“ªä¸€å€‹å€å¡Š</li>
<li>å…ƒä»¶ <code>Body</code> ä¸­çš„ <code>handleScroll</code> æœƒè¨ˆç®— <code>ImageContainer</code> å…ƒä»¶çš„é ‚éƒ¨æ˜¯å¦å·²ç¶“ç¶“éç•«é¢é ‚ç«¯ï¼Œè‹¥ç‚º <code>true</code> å‰‡é–‹å§‹æº–å‚™å±•ç¾æ»¾å‹•è¦–å·®å‹•ç•«æ•ˆæœ</li>
<li>å…ƒä»¶ <code>AnimationImage</code> æ ¹æ“šç›®å‰ç•«é¢æ²å‹•çš„ä½ç½®æ›¿æ› <code>src</code> å…§å®¹
<ul>
<li>è¨­å®š <code>top: 50vh;</code> æ­é… <code>transform: translateY(-50%);</code> åšå‡ºåœ–ç‰‡å‚ç›´ç½®ä¸­çš„æ•ˆæœ</li>
<li>å› æœ¬å¯¦ä½œè§¸ç™¼å‹•ç•«çš„æ²å‹•é»èˆ‡ Asana ç‰ˆæœ¬çš„ä¸åŒï¼Œåœ¨ç•«é¢åˆ¤å®šæ²åˆ°æœ€å¾Œä¸€å€‹å€å¡Šçš„æ™‚å€™è¨­å®š <code>position: absolute;</code> é¿å…åœ–ç‰‡ç¹¼çºŒè¢«å¾€ä¸‹æ¨ç§»</li>
</ul>
</li>
<li>éœ€æ³¨æ„ FireFox ç›®å‰ä¸¦ä¸æ”¯æ´ <code>transition-property: background;</code>ï¼Œåœ–ç‰‡ç›®å‰åƒ…æœ‰åœ¨ Chrome ä¸Šæ‰æœƒæœ‰ <code>transition</code> æ•ˆæœ</li>
<li>éœ€æ³¨æ„ä¸èƒ½åœ¨ parent element ä½¿ç”¨ <code>display: flex;</code> å¦å‰‡ <code>position: sticky;</code> æœƒå¤±æ•ˆ</li>
</ul>
<h2 id="åƒè€ƒæ–‡ä»¶">åƒè€ƒæ–‡ä»¶</h2>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect">MDN: Element.getBoundingClientRect()</a></li>
<li><a href="https://gist.github.com/brandonjp/478cf6e32d90ab9cb2cd8cbb0799c7a7">Gist: findOverflowParents.js</a></li>
</ul>
  </div>

      <footer class="astro-QLGQ3ONJ">Tzu Yin (Charlie) ğŸ¦Š Made in Taiwan</footer>
    </section>
  </body></html>