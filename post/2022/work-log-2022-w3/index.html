<!DOCTYPE html>
<html lang="en" class="astro-D4ZPMAD2">
  <head>
    <!-- Global Metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="sitemap" href="/sitemap-index.xml">
    <meta name="generator" content="Astro v2.10.12">

    <!-- Primary Meta Tags -->
    <title>2022 ç¬¬3é€± å­¸ç¿’è¨˜éŒ„ï¼šCreational Design Patterns</title>
    <meta name="title" content="2022 ç¬¬3é€± å­¸ç¿’è¨˜éŒ„ï¼šCreational Design Patterns">
    <meta name="description" content="">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://tzynwang.github.io/post/2022/work-log-2022-w3/">
    <meta property="og:title" content="2022 ç¬¬3é€± å­¸ç¿’è¨˜éŒ„ï¼šCreational Design Patterns">
    <meta property="og:description" content="">
    <meta property="og:image" content="https://tzynwang.github.io/alexander-andrews-mEdKuPYJe1I.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://tzynwang.github.io/post/2022/work-log-2022-w3/">
    <meta property="twitter:title" content="2022 ç¬¬3é€± å­¸ç¿’è¨˜éŒ„ï¼šCreational Design Patterns">
    <meta property="twitter:description" content="">
    <meta property="twitter:image" content="https://tzynwang.github.io/alexander-andrews-mEdKuPYJe1I.jpg">

    <!-- Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/_astro/index.5f60e57f.css" />
<link rel="stylesheet" href="/_astro/2-1-movie-list-i18n-note.5f900e92.css" /></head>
  <body class="astro-D4ZPMAD2">
    <section class="side-contnet astro-D4ZPMAD2">
      <h1 class="astro-D4ZPMAD2">æ™®é€šæ–‡çµ„ 2.0</h1>
      <nav class="astro-D4ZPMAD2">
        <a href="/" class="astro-D4ZPMAD2">é¦–é </a>
        <a href="/archive" class="astro-D4ZPMAD2">å…¨æ–‡ç« æ­¸æª”</a>
      </nav>
    </section>
    <section class="main-content astro-D4ZPMAD2">
      
  <div class="post-container astro-QTOKGA5Y">
    <h1 class="astro-QTOKGA5Y">2022 ç¬¬3é€± å­¸ç¿’è¨˜éŒ„ï¼šCreational Design Patterns</h1>
    <div class="info astro-QTOKGA5Y">
      <span class="astro-QTOKGA5Y">2022-01-22 17:39</span>
      <span class="astro-QTOKGA5Y"><span class="astro-2IYMVI75">
  Design Patterns
</span></span>
      <ul class="astro-QTOKGA5Y">
        <li class="toc-2 astro-QTOKGA5Y">
              <a href="#ç¸½çµ" class="astro-QTOKGA5Y">ç¸½çµ</a>
            </li><li class="toc-2 astro-QTOKGA5Y">
              <a href="#ç­†è¨˜" class="astro-QTOKGA5Y">ç­†è¨˜</a>
            </li><li class="toc-3 astro-QTOKGA5Y">
              <a href="#factory-method" class="astro-QTOKGA5Y">Factory Method</a>
            </li><li class="toc-3 astro-QTOKGA5Y">
              <a href="#abstract-factory" class="astro-QTOKGA5Y">Abstract Factory</a>
            </li><li class="toc-3 astro-QTOKGA5Y">
              <a href="#builder" class="astro-QTOKGA5Y">Builder</a>
            </li><li class="toc-3 astro-QTOKGA5Y">
              <a href="#prototype" class="astro-QTOKGA5Y">Prototype</a>
            </li><li class="toc-3 astro-QTOKGA5Y">
              <a href="#singleton" class="astro-QTOKGA5Y">Singleton</a>
            </li><li class="toc-2 astro-QTOKGA5Y">
              <a href="#åƒè€ƒæ–‡ä»¶" class="astro-QTOKGA5Y">åƒè€ƒæ–‡ä»¶</a>
            </li>
      </ul>
    </div>
    <h2 id="ç¸½çµ">ç¸½çµ</h2>
<p>æœ¬ç¯‡æ•´ç†äº† design patterns ä¸­æ­¸é¡ç‚º creational design patterns çš„ç›¸é—œç­†è¨˜ï¼š</p>
<ul>
<li>Factory Method</li>
<li>Abstract Factory</li>
<li>Builder</li>
<li>Prototype</li>
<li>Singleton</li>
</ul>
<p>Creational patterns çš„é—œæ³¨é»ï¼šprovide various object <strong>creation mechanisms</strong>, which increase <strong>flexibility</strong> and <strong>reuse</strong> of existing code. è‘—çœ¼é»åœ¨ã€Œç‰©ä»¶æ‡‰è©²å¦‚ä½•è¢«å»ºç«‹ã€çš„ design patterns</p>
<h2 id="ç­†è¨˜">ç­†è¨˜</h2>
<h3 id="factory-method">Factory Method</h3>
<iframe width="560" height="315" src="https://www.youtube.com/embed/EcFVTgRHJLM" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<ul>
<li>Provides an interface for <strong>creating objects in a superclass</strong>, but allows <strong>subclasses to alter the type of objects</strong> that will be created. ç”± superclass å®šç¾©å¥½ interfaceï¼Œç”± subclass ä¾†å¯¦éš›é€²è¡Œç‰©ä»¶çš„å»ºç«‹èˆ‡å›å‚³</li>
<li>The Factory Method <strong>separates product construction</strong> code from the code that <strong>actually uses the product</strong>. For example, <strong>to add a new product</strong> type to the app, youâ€™ll only need to <strong>create a new creator subclass</strong> and override the factory method in it.</li>
<li>Use the Factory Method <strong>when you donâ€™t know beforehand the exact types and dependencies of the objects</strong> your code should work with. ç”± factory method ä¾†æ ¹æ“šæƒ…å¢ƒå›å‚³å°æ‡‰çš„ç‰©ä»¶</li>
<li>Using factories provides encapsulation, and means the <strong>code is not tied to specific classes or objects</strong>, and thus the class hierarchy or prototypes can be changed or refactored <strong>without needing to change code that uses them</strong>. ä¸éœ€è¦çŸ¥é“ç‰©ä»¶æ˜¯æ ¹æ“šä»€éº¼æ¨£çš„é‚è¼¯æˆ–æ­¥é©Ÿè¢«å»ºç«‹ï¼Œåªè¦å‘¼å« subclass å°±å¯ä»¥å¾—åˆ°éœ€è¦çš„ç‰©ä»¶</li>
</ul>
<script src="https://gist.github.com/tzynwang/cd786a10bedf28a61043a8923ce0fdd6.js"></script>
<ul>
<li>gist/app.tsx ç¬¬ 22 è¡Œçš„ <code>generateRandomAnimal.runFactory()</code>ï¼Œé‹ç”¨é€™æ®µ code çš„äººä¸éœ€è¦çŸ¥é“ Animal æ˜¯æ ¹æ“šä»€éº¼æ¨£çš„é‚è¼¯è¢«éš¨æ©Ÿç”¢å‡ºï¼ŒåªçŸ¥é“ä¸€æ—¦å‘¼å«äº† <code>generateRandomAnimal.runFactory()</code> å°±æœƒå¾—åˆ°éš¨æ©Ÿçš„ Animal ç‰©ä»¶</li>
<li>gist/app.tsx ç¬¬ 26 è¡Œçš„ <code>generateSerialAnimal.runFactory()</code> å‰‡æ˜¯æœƒä»¥å›ºå®šçš„é †åºå›å‚³ Animal ç‰©ä»¶ï¼Œä½¿ç”¨é€™æ®µ code çš„äººä¹Ÿä¸éœ€è¦çŸ¥é“ Animal æ˜¯é€éå“ªäº›é‚è¼¯è¢«ä¾åºç”¢å‡º</li>
<li>ä½¿ç”¨ <code>runFactory()</code>ï¼ˆå³ <code>factory method</code>ï¼‰çš„å¥½è™•æ˜¯ï¼Œæ—¥å¾Œ Animal çš„ç¨®é¡å°±ç®—è¶Šè®Šè¶Šå¤šï¼Œä½¿ç”¨è€…ç¶­æŒä½¿ç”¨ <code>generateRandomAnimal.runFactory()</code> ä¾èˆŠå¯ä»¥éš¨æ©Ÿç²å¾—ä»»ä½• Animal ç‰©ä»¶ï¼Œclient code ä¸éœ€é€²è¡Œä»»ä½•èª¿æ•´</li>
</ul>
<h3 id="abstract-factory">Abstract Factory</h3>
<iframe width="560" height="315" src="https://www.youtube.com/embed/v-GiuMmsXj4" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<ul>
<li>èˆ‡ Factory Method æ¦‚å¿µé¡ä¼¼ï¼Œå”¯ä¸€çš„ä¸åŒæ˜¯ Factory Method åŸºæœ¬ä¸Šæ˜¯ç”¢ç”Ÿå–®ä¸€ç‰©ä»¶ï¼Œä½† Abstract Factory æ˜¯ç”¢å‡ºä¸€çµ„äº’ç›¸æ­é…çš„ç‰©ä»¶ï¼Œæ¯”å¦‚åœ¨ light mode æˆ– dark mode ä¸‹ä½¿ç”¨çš„ä¸åŒ UI çµ„åˆ</li>
<li>Abstract Factory è¦è§£æ±ºçš„å•é¡Œæ˜¯ï¼šç¢ºä¿ç”¢å‡ºçš„ç‰©ä»¶æœƒæ˜¯åˆç†çš„çµ„åˆ</li>
<li>Abstract Factory can serve as <strong>an alternative to Facade</strong> when you only want to hide the way the subsystem objects are created from the client code.</li>
</ul>
<h3 id="builder">Builder</h3>
<iframe width="560" height="315" src="https://www.youtube.com/embed/ziQqmvfg5XE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<ul>
<li>ä½¿ç”¨ä¸€é€£ä¸²çš„ method ä¾†ç”¢ç”Ÿç‰©ä»¶ï¼›èˆ‰ä¾‹ï¼šé€éåœ¨æŠ«è–©ä¸Šè¿½åŠ ä¸åŒçš„é…æ–™ï¼ˆ<code>methods</code>ï¼‰ï¼Œæœƒç”¢ç”Ÿä¸åŒå£å‘³çš„æŠ«è–©</li>
<li>Builder focuses on <strong>constructing complex objects step by step</strong>. Abstract Factory specializes in creating <strong>families of related objects</strong>.</li>
<li>Abstract Factory returns the product immediately, whereas <strong>Builder lets you run some additional construction steps before fetching the product</strong>.</li>
</ul>
<script src="https://gist.github.com/tzynwang/ced5f0ff99570ac61580481dae622b46.js"></script>
<ul>
<li>gist/builder.ts ç¬¬ 50 è‡³ 52 è¡Œå³ç¤ºç¯„ builder pattern çš„ç‰¹å¾µï¼šé€éä¸€ç³»åˆ—çš„ steps ä¾†å»ºæ§‹é¡ä¼¼ä½†ç´°ç¯€ä¸åŒçš„ç‰©ä»¶</li>
</ul>
<h3 id="prototype">Prototype</h3>
<ul>
<li>Prototype can help when you need to <strong>save copies of Commands into history</strong>.</li>
<li>Sometimes Prototype can be a <strong>simpler alternative to Memento</strong>. This works if the object, the state of which you want to store in the history, is fairly straightforward and doesnâ€™t have links to external resources, or the links are easy to re-establish.</li>
</ul>
<script src="https://gist.github.com/tzynwang/cdfd010f777a9394e21ac2f9378e4447.js"></script>
<ul>
<li>gist/prototype.ts èˆ‡ gist/builder.ts çš„å·®ç•°åœ¨æ–¼ä½¿ç”¨ <code>.clone()</code> è¤‡è£½ <code>Pizza</code> ç‰©ä»¶ç•¶ä¸‹çš„ç‹€æ…‹ï¼Œä¸¦ä¿®æ”¹ clone å›å‚³å‡ºä¾†çš„ <code>Pizza</code> ç‰©ä»¶ï¼›é€é <code>.listPizzaSpec()</code> å¯ä»¥ç™¼ç¾ä¿®æ”¹ <code>.clone()</code> å¾Œçš„æ–° <code>Pizza</code> ä¸æœƒå½±éŸ¿åˆ°è¢«ç•¶ä½œè¤‡è£½å°è±¡çš„åŸå§‹ <code>Pizza</code></li>
</ul>
<h3 id="singleton">Singleton</h3>
<ul>
<li>Singleton is a creational design pattern that lets you ensure that a class <strong>has only one instance</strong>, while <strong>providing a global access point</strong> to this instance. å¯¦ä½œéçš„ä¾‹å­ï¼šæ¨ç‰¹å°ˆæ¡ˆä¸­å”¯ä¸€ä¸€å€‹ web socket instanceï¼Œç¢ºä¿æ¨ç‰¹å°ˆæ¡ˆåœ¨é–‹å•Ÿçš„æ™‚å€™æ°¸é åªæœƒæœ‰ä¸€å€‹ web socket instance åœ¨é€£ç·šï¼Œé¿å…å‡ºç¾ä½¿ç”¨è€…é‡è¤‡é€²å‡ºèŠå¤©å®¤çš„éŒ¯èª¤</li>
<li>æ³¨æ„ redux ä¸¦ä¸ç­‰æ–¼ singleton patternï¼Œè€Œæ˜¯ä½¿ç”¨è€…é¸æ“‡åªç¶­è­·ä¸€å€‹å”¯ä¸€å¯¦ä¾‹ï¼Œé€™æ‰è®“ redux ä¿ç®¡çš„è³‡æ–™æ“æœ‰ singleton çš„ç‰¹æ€§</li>
<li>Implementation:
<ul>
<li>Make the default <code>constructor</code> <strong>private</strong>, to prevent other objects from using the new operator with the Singleton class.</li>
</ul>
</li>
<li>Create a static creation method that acts as a constructor. Under the hood, <strong>this method calls the private constructor to create an object</strong> and saves it in a static field. All following calls to this method <strong>return the cached object</strong>.</li>
</ul>
<h2 id="åƒè€ƒæ–‡ä»¶">åƒè€ƒæ–‡ä»¶</h2>
<ul>
<li><a href="https://refactoring.guru/design-patterns/creational-patterns">Refactoring.Guru: Creational Design Patterns</a></li>
<li><a href="https://www.dofactory.com/javascript/design-patterns">dofactory: JavaScript Design Patterns</a></li>
<li><a href="https://www.patterns.dev/posts/introduction/">patterns</a></li>
</ul>
  </div>

      <footer class="astro-QLGQ3ONJ">Tzu Yin (Charlie) ğŸ¦Š Made in Taiwan</footer>
    </section>
  </body></html>