<!DOCTYPE html>
<html lang="en" class="astro-D4ZPMAD2">
  <head>
    <!-- Global Metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="sitemap" href="/sitemap-index.xml">
    <meta name="generator" content="Astro v2.10.12">

    <!-- Primary Meta Tags -->
    <title>Alpha Camp「2-2 電影清單」技術記錄</title>
    <meta name="title" content="Alpha Camp「2-2 電影清單」技術記錄">
    <meta name="description" content="">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://tzynwang.github.io/post/2021/2-2-movie-list-note/">
    <meta property="og:title" content="Alpha Camp「2-2 電影清單」技術記錄">
    <meta property="og:description" content="">
    <meta property="og:image" content="https://tzynwang.github.io/alexander-andrews-mEdKuPYJe1I.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://tzynwang.github.io/post/2021/2-2-movie-list-note/">
    <meta property="twitter:title" content="Alpha Camp「2-2 電影清單」技術記錄">
    <meta property="twitter:description" content="">
    <meta property="twitter:image" content="https://tzynwang.github.io/alexander-andrews-mEdKuPYJe1I.jpg">

    <!-- Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/_astro/index.5f60e57f.css" />
<link rel="stylesheet" href="/_astro/2-1-movie-list-i18n-note.5f900e92.css" /></head>
  <body class="astro-D4ZPMAD2">
    <section class="side-contnet astro-D4ZPMAD2">
      <h1 class="astro-D4ZPMAD2">普通文組 2.0</h1>
      <nav class="astro-D4ZPMAD2">
        <a href="/" class="astro-D4ZPMAD2">首頁</a>
        <a href="/archive" class="astro-D4ZPMAD2">全文章歸檔</a>
      </nav>
    </section>
    <section class="main-content astro-D4ZPMAD2">
      
  <div class="post-container astro-QTOKGA5Y">
    <h1 class="astro-QTOKGA5Y">Alpha Camp「2-2 電影清單」技術記錄</h1>
    <div class="info astro-QTOKGA5Y">
      <span class="astro-QTOKGA5Y">2021-05-29 14:26</span>
      <span class="astro-QTOKGA5Y"><span class="astro-2IYMVI75">
  JavaScript
</span></span>
      <ul class="astro-QTOKGA5Y">
        <li class="toc-2 astro-QTOKGA5Y">
              <a href="#總結" class="astro-QTOKGA5Y">總結</a>
            </li><li class="toc-2 astro-QTOKGA5Y">
              <a href="#畫面與-css" class="astro-QTOKGA5Y">畫面與 CSS</a>
            </li><li class="toc-2 astro-QTOKGA5Y">
              <a href="#javascript-部分" class="astro-QTOKGA5Y">JavaScript 部分</a>
            </li><li class="toc-3 astro-QTOKGA5Y">
              <a href="#規劃" class="astro-QTOKGA5Y">規劃</a>
            </li><li class="toc-3 astro-QTOKGA5Y">
              <a href="#controllerjs" class="astro-QTOKGA5Y">controller.js</a>
            </li><li class="toc-3 astro-QTOKGA5Y">
              <a href="#viewjs" class="astro-QTOKGA5Y">view.js</a>
            </li><li class="toc-3 astro-QTOKGA5Y">
              <a href="#interactionjs" class="astro-QTOKGA5Y">interaction.js</a>
            </li><li class="toc-3 astro-QTOKGA5Y">
              <a href="#indexjs-與-favoritejs" class="astro-QTOKGA5Y">index.js 與 favorite.js</a>
            </li><li class="toc-2 astro-QTOKGA5Y">
              <a href="#參考文件" class="astro-QTOKGA5Y">參考文件</a>
            </li>
      </ul>
    </div>
    <h2 id="總結">總結</h2>
<p>本次實作了以下功能：</p>
<ul>
<li>搜尋電影（名稱），並在結果畫面中 highlight 使用者鍵入的關鍵字
<img src="/2021/2-2-movie-list-note/searchAndHighlight.gif" alt="search and highlight demonstration gif"></li>
<li>使用者可在主畫面（All movies）點擊星星按鈕來儲存「喜歡」的電影，可在喜愛清單（Favorite movies）瀏覽所有「喜歡」的電影
<img src="/2021/2-2-movie-list-note/favorite.gif" alt="add movie to favorite list demonstration gif"></li>
<li>根據使用者勾選的「電影類型」來篩選出相對應的電影，支援同時篩選複數類型
<img src="/2021/2-2-movie-list-note/filter.gif" alt="filter feature demonstration gif"></li>
<li>（僅限主畫面）點擊電影資料卡（modal）中的類型徽章（badge），會篩選出屬於該類型的電影
<img src="/2021/2-2-movie-list-note/filterByModalBadges.gif" alt="trigger filter by genres badges in each movie&#x27;s modal card demonstration gif"></li>
</ul>
<p>主要練習到的技術：</p>
<ul>
<li>MVC design</li>
<li>JavaScript modules</li>
<li><code>window.localStorage</code></li>
</ul>
<p>成品展示：<a href="https://tzynwang.github.io/ac_practice_2-2_movie_list/">https://tzynwang.github.io/ac_practice_2-2_movie_list/</a>
原始碼：<a href="https://github.com/tzynwang/ac_practice_2-2_movie_list">https://github.com/tzynwang/ac_practice_2-2_movie_list</a>
專案結構：
<img src="/2021/2-2-movie-list-note/folderStructure.png" alt="folder structure"></p>
<h2 id="畫面與-css">畫面與 CSS</h2>
<ul>
<li>僅分拆為主畫面與喜愛清單兩份<code>.html</code>檔案</li>
<li>外觀使用<a href="https://bootswatch.com/">Bootswatch 的 Superhero 視覺主題</a></li>
<li>除頂端的導覽列以外，電影清單、點擊 Detail 按鈕後顯示的卡片（modal）與分頁皆透過 JavaScript 產生</li>
<li>為卡片右側的電影描述文字欄位設定為<code>overflow-y: auto;</code>，維持卡片一慣高度
<img src="/2021/2-2-movie-list-note/movieDescriptionOverflowY.jpg" alt="set movie description column overflow-y attribute as auto"></li>
<li>為電影的類型徽章與分頁加上<code>cursor: pointer;</code>，提供「此物件可互動」的提示</li>
</ul>
<h2 id="javascript-部分">JavaScript 部分</h2>
<h3 id="規劃">規劃</h3>
<ul>
<li>根據 MVC 概念將函式分類到 view 與 controller 模組（module）中；view 負責與視覺畫面有關的功能，controller 負責與資料處理相關的功能</li>
<li>model 模組負責儲存專案使用到的資料物件與設定</li>
<li>單純檢驗「使用者輸入的資料是否有效」的功能，歸類到 utilities 模組中（不進行任何資料處理，僅根據條件執行判斷）</li>
<li>interaction 模組中包含各種組合 view 與 controller 功能的函式，此模組內的函式皆以<strong>名詞描述</strong>或<strong>動詞+名詞</strong>的形式命名，讓開發者一眼就能知道該函式的目的</li>
<li>index.html 與 favorite.html 僅匯入 interaction 模組的功能，不直接與 view、controller 模組內的功能互動</li>
</ul>
<h3 id="controllerjs">controller.js</h3>
<script src="https://gist.github.com/tzynwang/fcda3bff6d518e9b1c3982fa7c7268d4.js"></script>
<ul>
<li><code>fetchData()</code>僅執行「使用 axios 取得某 API 提供的資料」之功能，處理 API 資料的工作會交由其他函式來進行</li>
<li><code>localStorage</code>僅能儲存<code>strings</code>類型的資料，故<code>localStorage.getItem()</code>時需搭配<code>JSON.stringify()</code>，而透過<code>localStorage.getItem()</code>取出的資料，需使用<code>JSON.parse()</code>將字串轉回 JavaScript 物件</li>
</ul>
<h3 id="viewjs">view.js</h3>
<script src="https://gist.github.com/tzynwang/0cd46b3f99b83824a40c23cdc9718ee4.js"></script>
<ul>
<li><code>displayFilterBadges()</code>中的<code>Object.entries(obj)</code>會回傳一陣列，陣列內容為<code>obj</code>中所有 key-value pair</li>
</ul>
<h3 id="interactionjs">interaction.js</h3>
<script src="https://gist.github.com/tzynwang/c0c60c0caca7a5d18ed9cf305c0b38c0.js"></script>
<ul>
<li>關於<strong>搜尋與篩選功能不並存</strong>的設計：</li>
<li>篩選行為的目的：想要瀏覽特定類型的電影</li>
<li>搜尋行為的目的：想要搜尋「名字好像是……」的電影</li>
<li>因兩種行為的目的不太相同，故最後採取互不相容的設計；搜尋時不支援篩選，篩選後進行搜尋、會重置篩選記錄</li>
</ul>
<h3 id="indexjs-與-favoritejs">index.js 與 favorite.js</h3>
<p>index.html 與 favorite.html 會使用到的 JavaScript 都先在 interaction 整理過了，直接匯入 interaction 模組的功能即可</p>
<script src="https://gist.github.com/tzynwang/eb19d1d54ca8cea325e8fdabc15954f9.js"></script>
<script src="https://gist.github.com/tzynwang/1d7a65f5888e64ba8de2dcc4c4dfd68c.js"></script>
<h2 id="參考文件">參考文件</h2>
<ul>
<li>MDN
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules">JavaScript modules</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage">Window.localStorage</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp#description">RegExp: constructor</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/entries">Object.entries()</a></li>
</ul>
</li>
<li>StackOverFlow
<ul>
<li><a href="https://stackoverflow.com/questions/48980380/returning-data-from-axios-api">Returning data from Axios API</a></li>
<li><a href="https://stackoverflow.com/questions/14220321/how-to-return-the-response-from-an-asynchronous-call">How to return the response from an asynchronous call?</a></li>
<li><a href="https://stackoverflow.com/questions/46715484/correct-async-function-export-in-node-js">Correct async function export in node.js</a></li>
</ul>
</li>
</ul>
  </div>

      <footer class="astro-QLGQ3ONJ">Tzu Yin (Charlie) 🦊 Made in Taiwan</footer>
    </section>
  </body></html>